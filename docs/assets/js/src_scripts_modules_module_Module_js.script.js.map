{"version":3,"sources":["webpack://mikemooredev/./src/scripts/modules/module/Module.js"],"names":["Module","element","setupModule","el","identifier","dataset","module","data","els","bindMethods","defaultMethods","methods","setupEls","setupListeners","setupModel","setupInputListeners","methodNames","forEach","method","bind","replace","m","w","toUpperCase","querySelectorAll","alias","getElementAlias","singleElAlias","pluralElAlias","modelEl","querySelector","push","model","elKeys","filter","elKey","inputTypes","includes","nodeName","modelElKeys","addEventListener","target","value","innerHTML","Object","keys"],"mappings":"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","file":"src_scripts_modules_module_Module_js.script.js","sourcesContent":["export default class Module {\n\n  constructor(element) {\n\n    this.setupModule(element)\n\n  }\n\n  initialize() { }\n\n  setupListeners() { }\n\n  setupModule(element) {\n\n    this.el = element\n    this.identifier = element.dataset.module\n    this.data = element.dataset\n    this.els = {}\n\n    this.bindMethods(this.defaultMethods)\n    this.bindMethods(this.methods)\n\n    this.setupEls()\n    this.setupListeners()\n    this.setupModel()\n    this.setupInputListeners()\n  }\n\n  bindMethods(methodNames) {\n    methodNames.forEach(method => {\n      this[method] = this[method].bind(this)\n    })\n  }\n\n  getElementAlias(element) {\n    return element.dataset.el.replace(`${this.identifier}.`, \"\")\n      .replace(/-([a-z])/g, function (m, w) {\n        return w.toUpperCase();\n      })\n  }\n\n  setupEls() {\n\n    const els = this.el.querySelectorAll(`[data-el^=\"${this.identifier}\"]`)\n\n    els.forEach(el => {\n\n      const alias = this.getElementAlias(el)\n\n      const singleElAlias = `${alias}El`\n      const pluralElAlias = `${singleElAlias}s`\n\n      this.els[singleElAlias] = this.els[singleElAlias] ? this.els[singleElAlias] : el\n      this.els[pluralElAlias] = typeof this.els[pluralElAlias] === \"object\" ? this.els[pluralElAlias] : []\n\n      const modelEl = this.el.querySelector(`[data-model=\"${this.identifier}.${alias}\"]`)\n\n      if (modelEl) {\n        el.modelEl = modelEl\n      }\n\n      this.els[pluralElAlias].push(el)\n    })\n\n  }\n\n  setupModel() {\n    this.model = {}\n    this.elKeys\n      .filter(elKey => this.inputTypes.includes(this.els[elKey].nodeName))\n      .forEach(elKey => {\n        this.model[this.getElementAlias(this.els[elKey])] = \"\"\n      })\n  }\n\n  setupInputListeners() {\n    this.modelElKeys\n      .forEach(elKey => {\n\n        if (this.els[elKey].modelEl) {\n\n          this.els[elKey].addEventListener('input', ({ target }) => {\n            this.model[this.getElementAlias(this.els[elKey])] = target.value\n            this.els[elKey].modelEl.innerHTML = target.value\n          })\n\n        }\n      })\n  }\n\n  get elKeys() {\n    return Object.keys(this.els)\n  }\n\n  get modelElKeys() {\n    return this.elKeys.filter(elKey => this.inputTypes.includes(this.els[elKey].nodeName))\n  }\n\n  get inputTypes() {\n    return [\n      'INPUT',\n      'TEXTAREA'\n    ]\n  }\n\n  get defaultMethods() {\n    return [\n      'initialize',\n      'setupModule',\n      'setupEls',\n      'setupListeners',\n      'setupInputListeners',\n      'getElementAlias'\n    ]\n  }\n\n  get methods() {\n    return []\n  }\n\n}"],"sourceRoot":""}